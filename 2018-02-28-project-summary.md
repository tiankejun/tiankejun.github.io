### 项目总结
此项目是一个安防行业的项目，主要针对刑侦、技侦、公安、交警用户，为其提供根据目标（人体、人脸、车、非机动车等，以下简称目标）信息进行图片、视频查看、处理、检索的一套系统。
### 项目使用到的技术
使用vuejs渐进框架，vue-router做路由，配合webpack打包，使用git做代码仓库，利用less编写页面样式，使用Echart 进行静态或动态数据统计数据展示，使用Element UI前端UI框架 

### 本人负责的部分
主要负责
1、人脸检索库（第一版）  
2、数据仓库框架搭建以及部分子模块
3、系统运维
4、车辆刻画
5、车辆技战法框架搭建以及部分子模块
的实现
### 模块释义
人脸检索库：添加人员信息到人员库，包括（图像、以及个人基本信息）；

数据仓库：将摄像头抓拍的图片数据和经过录像处理后图片数据分为图文模式和列表模式两种模式展示，以及根据目标特征进行检索；

系统运维：统计系统中的数据以图表的形式展示（包括目标数量统计、CPU、GPU实时信息统计）

车辆刻画：根据用户上传图片或者从数据仓库带过来的图片（一般是模糊不清晰的图片）外观，选择对应的条件，进行条件筛选，最终确定该车型、车款

车辆技战法：查询车辆某一种状态下车辆数据信息（例如：未系安全带）

### 遇到的问题
项目开始只是只是新需求用的vuejs， 之前有的功能直接通过iframe的方式嵌入进来，后续因为嵌入了3-4个子系统，项目维护很困难，最终决定所有功能重做  
下面是遇到的问题：  
1、起初通过iframe嵌入的方式，存在iframe之间通讯问题，例如，点击子组件一个按钮，弹出一个消息，这个消息要在父组件显示  
2、随着项目越来越大，编译速度和页面加载速度变慢问题最长编译一次时间需要30s - 40s 时间，这对于开发来说无疑是噩梦  
3、因为系统中存在权限控制，但是之前用的是jquery进行权限控制，既然使用的是数据驱动模式，如果在直接操作dom则违背vue数据驱动模式  
4、系统中涉及到跨页勾选数据问题  
### 解决方案
1、iframe数据通讯问题：
```
发送数据
window.top.postMessage(data, url);
data: 数据，
url： 发送到指定地址，
    1、如果是指定地址：http://192.168.60.48:8080, 此时只有这个地址能收到信息，
    2、如果是 "*" 外层所有域都能收到

监听：
window.addEventListener("message", getData, false); // 高级浏览器
window.attachEvent("onmessage", getData);  //IE
function getData (e){
 var e = e || event;
 console.log(e.data) // 这里接收发送的数据
}
```
2、提高编译和加载效率问题
我结合DllReferencePlugin 插件将webpack中引用的第三方包进行统一打包，在页面进行引用，这样webpack在编译打包的时候就不会将第三方包重新打包，有效提高编译效率，页面引用，这个第三包以后会被缓存下来，避免不必要的网络请求

3、系统中度权限问题
之前使用的是query来控制权限，最后我提议使用vue中的指令来控制按钮的权限，在组件加载的时候，获取按钮上绑定的指令值，根据值来判断这个按钮是否显示

4、获取后台接口的数据后，给每个对象添加 ```checked: false ``` 字段，并缓存下来，以后每次勾选或者取消勾选操作都已指向缓存数据 
